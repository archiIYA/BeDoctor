<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BeDoctor | Anatomie</title>
<link rel="icon" type="image/svg+xml" href="logo.svg">

<style>
:root{
  --bg:#0b0f1a;
  --card:#141a2a;
  --soft:#1a2140;
  --text:#f5f7ff;
  --muted:#b8c0e0;
  --accent:#00e676;
  --accent2:#9b5cff;
  --radius:18px;
  --border:rgba(255,255,255,.12);
  --shadow:0 20px 60px rgba(0,0,0,.45);
  --menuW:260px;
}

[data-theme="light"]{
  --bg:#f6f7fb;
  --card:#ffffff;
  --soft:#eef1ff;
  --text:#0f172a;
  --muted:#475569;
  --border:rgba(15,23,42,.12);
  --shadow:0 20px 60px rgba(2,6,23,.10);
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  font-family:system-ui;
  background:var(--bg);
  color:var(--text);
  display:flex;
  overflow-x:hidden;
}

.stars{
  position:fixed;
  inset:0;
  z-index:-4;
  pointer-events:none;
  background:
    radial-gradient(circle, rgba(0,230,118,.55) 1px, transparent 2px),
    radial-gradient(circle, rgba(155,92,255,.45) 1px, transparent 2px);
  background-size:160px 160px;
  opacity:.32;
}

[data-theme="light"] .stars{
  opacity:.26;
  background:
    radial-gradient(circle, rgba(0,230,118,.35) 1px, transparent 2px),
    radial-gradient(circle, rgba(155,92,255,.28) 1px, transparent 2px);
  background-size:170px 170px;
}

.watermark{
  position:fixed;
  inset:0;
  z-index:-3;
  pointer-events:none;
  display:grid;
  place-items:center;
}
.watermark img{
  width:min(78vw,820px);
  opacity:.10;
  filter: drop-shadow(0 40px 120px rgba(0,0,0,.25));
}

.menu{
  width:var(--menuW);
  padding:18px;
  background:rgba(20,26,42,.92);
  border-right:1px solid var(--border);
  backdrop-filter: blur(14px);
  display:flex;
  flex-direction:column;
  gap:12px;
  position:fixed;
  inset:0 auto 0 0;
  z-index:50;
}

[data-theme="light"] .menu{
  background:rgba(255,255,255,.88);
}

.menuStars{
  position:absolute;
  inset:0;
  z-index:-1;
  pointer-events:none;
  border-right:1px solid transparent;
  background:
    radial-gradient(circle, rgba(0,230,118,.22) 1px, transparent 2px),
    radial-gradient(circle, rgba(155,92,255,.18) 1px, transparent 2px);
  background-size:150px 150px;
  opacity:.35;
  border-radius:0;
}

[data-theme="light"] .menuStars{
  opacity:.22;
  background:
    radial-gradient(circle, rgba(0,230,118,.18) 1px, transparent 2px),
    radial-gradient(circle, rgba(155,92,255,.14) 1px, transparent 2px);
  background-size:165px 165px;
}

.menuTop{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 10px;
  border-radius:14px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--border);
  box-shadow:0 10px 30px rgba(0,0,0,.18);
}

[data-theme="light"] .menuTop{
  background:rgba(2,6,23,.03);
  box-shadow:0 10px 30px rgba(2,6,23,.06);
}

.menuTop img{
  width:42px;height:42px;
  object-fit:contain;
  filter: drop-shadow(0 20px 40px rgba(0,0,0,.18));
}

.menuTop .brand{
  font-weight:950;
  line-height:1.05;
}
.menuTop .tag{
  font-size:12px;
  color:var(--muted);
  font-weight:800;
  margin-top:2px;
}

.nav a, .dropBtn{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-radius:14px;
  text-decoration:none;
  color:inherit;
  font-weight:900;
  border:1px solid transparent;
  background:transparent;
  cursor:pointer;
  width:100%;
}

.nav a:hover, .dropBtn:hover{
  background:var(--soft);
  border-color:var(--border);
}

.dropdown{
  position:relative;
}
.dropdownContent{
  display:none;
  margin-top:8px;
  padding:10px;
  border-radius:16px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--border);
}
[data-theme="light"] .dropdownContent{
  background:rgba(2,6,23,.03);
}

.dropdownContent a{
  margin:0 0 8px 0;
}
.dropdownContent a:last-child{margin-bottom:0}
.dropdown.open .dropdownContent{display:block}

.controls{
  margin-top:auto;
  display:flex;
  gap:10px;
}
.ctrl{
  flex:1;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  text-align:center;
  cursor:pointer;
  font-weight:950;
  user-select:none;
}
[data-theme="light"] .ctrl{
  background:rgba(2,6,23,.03);
}

.menuUser{
  display:flex;
  gap:10px;
  align-items:center;
  padding:12px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
}
[data-theme="light"] .menuUser{
  background:rgba(2,6,23,.03);
}

.menuUser .av{
  width:44px;height:44px;
  border-radius:14px;
  display:grid;
  place-items:center;
  font-size:22px;
  background:linear-gradient(135deg, rgba(0,230,118,.25), rgba(155,92,255,.20));
  border:1px solid var(--border);
}
.menuUser .meta{
  min-width:0;
}
.menuUser .u{
  font-weight:950;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
.menuUser .e{
  color:var(--muted);
  font-size:12px;
  font-weight:800;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.container{
  margin-left:var(--menuW);
  width:100%;
  padding:26px 20px 90px;
}

.mobileTop{
  display:none;
  position:sticky;
  top:0;
  z-index:40;
  padding:14px 14px;
  background:rgba(20,26,42,.85);
  border-bottom:1px solid var(--border);
  backdrop-filter: blur(14px);
}
[data-theme="light"] .mobileTop{
  background:rgba(255,255,255,.85);
}

.mobileTop .row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.burger{
  width:44px;height:44px;
  border-radius:14px;
  display:grid;
  place-items:center;
  border:1px solid var(--border);
  background:rgba(255,255,255,.04);
  cursor:pointer;
  font-weight:950;
}
[data-theme="light"] .burger{background:rgba(2,6,23,.03)}
.mobileTop .miniBrand{
  display:flex;
  align-items:center;
  gap:10px;
  min-width:0;
}
.mobileTop .miniBrand img{width:34px;height:34px}
.mobileTop .miniBrand strong{
  font-weight:950;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.menuOverlay{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.45);
  z-index:49;
}

.banner{
  max-width:1100px;
  margin:0 auto 18px;
  border-radius:22px;
  overflow:hidden;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  position:relative;
}
.banner img{
  width:100%;
  height:210px;
  object-fit:cover;
  display:block;
}
.banner::after{
  content:"";
  position:absolute;
  inset:0;
  background: linear-gradient(90deg, rgba(0,230,118,.16), rgba(155,92,255,.14));
  opacity:.95;
  pointer-events:none;
}
.banner .badge{
  position:absolute;
  left:18px; bottom:16px;
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:10px 12px;
  border-radius:999px;
  background: rgba(0,0,0,.22);
  border:1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(12px);
  font-weight:950;
}

.header{
  max-width:1100px;
  margin:0 auto;
  background:rgba(20,26,42,.92);
  border:1px solid var(--border);
  border-radius:22px;
  box-shadow:var(--shadow);
  padding:22px;
  backdrop-filter: blur(14px);
}
[data-theme="light"] .header{
  background:rgba(255,255,255,.92);
}

.header h1{
  margin:0;
  font-size:34px;
  color:var(--accent);
  min-height:44px;
}
.header p{
  margin:10px 0 0;
  color:var(--muted);
  line-height:1.7;
  max-width:820px;
}

.grid{
  max-width:1100px;
  margin:18px auto 0;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:18px;
}

.card{
  background:linear-gradient(135deg, rgba(26,33,64,.92), rgba(20,26,42,.92));
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  text-decoration:none;
  color:inherit;
  padding:18px;
  display:flex;
  gap:14px;
  align-items:flex-start;
  transition:.25s;
  position:relative;
  overflow:hidden;
}
[data-theme="light"] .card{
  background:linear-gradient(135deg, rgba(238,241,255,.92), rgba(255,255,255,.92));
}
.card:hover{transform:translateY(-5px)}
.card::after{
  content:"";
  position:absolute;
  inset:-40% -30%;
  background: radial-gradient(circle, rgba(0,230,118,.15), transparent 55%);
  transform: rotate(12deg);
  opacity:.55;
  pointer-events:none;
}

.num{
  width:52px;height:52px;
  border-radius:16px;
  display:grid;
  place-items:center;
  font-weight:950;
  color:var(--accent);
  border:1px solid var(--border);
  background:rgba(0,230,118,.10);
  flex:0 0 auto;
}

.icon{
  width:52px;height:52px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.06);
  display:grid;
  place-items:center;
  flex:0 0 auto;
}
[data-theme="light"] .icon{background:rgba(2,6,23,.03)}
.icon img{width:34px;height:34px;object-fit:contain}

.card h3{
  margin:0;
  font-size:17px;
  font-weight:950;
}
.card p{
  margin:6px 0 0;
  color:var(--muted);
  font-weight:800;
  line-height:1.55;
  font-size:13px;
}

@media(max-width:900px){
  .menu{transform:translateX(-110%); transition:.25s; }
  .menu.open{transform:translateX(0)}
  .menuOverlay.show{display:block}
  .container{margin-left:0; padding-top:12px}
  .mobileTop{display:block}
  .banner img{height:180px}
  .header h1{font-size:28px}
}
</style>
</head>

<body>

<div class="stars"></div>
<div class="watermark"><img src="logo.svg" alt=""></div>

<div class="menuOverlay" id="menuOverlay"></div>

<div class="menu" id="menu">
  <div class="menuStars"></div>

  <div class="menuTop">
    <img src="logo.svg" alt="BeDoctor">
    <div>
      <div class="brand" id="brandName">BeDoctor</div>
      <div class="tag" id="brandTag">Medical Learning</div>
    </div>
  </div>

  <div class="nav">
    <div class="dropdown" id="parcours">
      <button class="dropBtn" id="btnParcours">üéì Parcours M√©dical</button>
      <div class="dropdownContent" id="dropContent">
        <a href="level1.html" id="y1Link">üß¨ 1√®re Ann√©e</a>
        <a href="level2.html" id="y2Link">‚ù§Ô∏è 2√®me Ann√©e</a>
        <a href="level3.html" id="y3Link">ü©∫ 3√®me Ann√©e</a>
      </div>
    </div>

    <a href="courses.html" id="navCourses">üìö Cours</a>
    <a href="anatomie3d.html" id="navAnat">üß† Anatomie 3D</a>
    <a href="examens.html" id="navExams">üìù Examens</a>
    <a href="notes.html" id="navNotes">üóíÔ∏è Notes</a>
    <a href="stats.html" id="navStats">üìä Statistiques</a>
    <a href="pomodoro.html" id="navPomo">‚è±Ô∏è Pomodoro</a>
    <a href="profil.html" id="navProfile">üë§ Profil</a>
  </div>

  <div class="controls">
    <div class="ctrl" id="langBtn">üåç FR</div>
    <div class="ctrl" id="themeBtn">üåô</div>
  </div>

  <div class="menuUser">
    <div class="av" id="miniAvatar">üë®‚Äç‚öïÔ∏è</div>
    <div class="meta">
      <div class="u" id="miniUser">@username</div>
      <div class="e" id="miniEmail">email@example.com</div>
    </div>
  </div>
</div>

<div class="container">

  <div class="mobileTop">
    <div class="row">
      <div class="burger" id="burger">‚ò∞</div>
      <div class="miniBrand">
        <img src="logo.svg" alt="">
        <strong id="mobileTitle">BeDoctor</strong>
      </div>
      <div class="burger" id="mobileTheme">üåô</div>
    </div>
  </div>

  <div class="banner">
    <img src="banner.svg" alt="">
    <div class="badge" id="badgeText">‚ú® Anatomie ‚Ä¢ 1√®re Ann√©e</div>
  </div>

  <div class="header">
    <h1 id="typeTitle"></h1>
    <p id="desc">
      Acc√©dez √† tous les cours et vid√©os YouTube d‚ÄôAnatomie (1√®re ann√©e) organis√©s par chapitres.
    </p>
  </div>

  <div class="grid" id="grid"></div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

const app = initializeApp({
  apiKey:"AIzaSyBFt5fRSInCvNsrVQfHVTGmsCWajD8jvPI",
  authDomain:"bedoctor-81569.firebaseapp.com",
  projectId:"bedoctor-81569"
});

const auth = getAuth(app);
const db = getFirestore(app);

const menu = document.getElementById("menu");
const overlay = document.getElementById("menuOverlay");
const burger = document.getElementById("burger");
const mobileTheme = document.getElementById("mobileTheme");

function openMenu(){ menu.classList.add("open"); overlay.classList.add("show"); }
function closeMenu(){ menu.classList.remove("open"); overlay.classList.remove("show"); }

burger.onclick = openMenu;
overlay.onclick = closeMenu;

const parcours = document.getElementById("parcours");
const btnParcours = document.getElementById("btnParcours");
btnParcours.onclick = () => parcours.classList.toggle("open");
document.addEventListener("click", (e)=>{
  if(!parcours.contains(e.target)) parcours.classList.remove("open");
});

function setTheme(next){
  document.documentElement.dataset.theme = next;
  localStorage.setItem("bedoctor_theme", next);
  document.getElementById("themeBtn").textContent = next==="dark" ? "üåô" : "‚òÄÔ∏è";
  mobileTheme.textContent = next==="dark" ? "üåô" : "‚òÄÔ∏è";
}
const savedTheme = localStorage.getItem("bedoctor_theme");
setTheme(savedTheme || document.documentElement.dataset.theme || "dark");

document.getElementById("themeBtn").onclick = ()=>{
  setTheme(document.documentElement.dataset.theme==="dark" ? "light" : "dark");
};
mobileTheme.onclick = ()=>{
  setTheme(document.documentElement.dataset.theme==="dark" ? "light" : "dark");
};

let lang = localStorage.getItem("bedoctor_lang") || "fr";
function setLang(next){
  lang = next;
  localStorage.setItem("bedoctor_lang", lang);
  document.getElementById("langBtn").textContent = lang==="fr" ? "üåç FR" : "üåç EN";

  const T = (key)=> (lang==="fr" ? tr.fr[key] : tr.en[key]);

  document.getElementById("brandTag").textContent = T("brandTag");
  document.getElementById("btnParcours").textContent = "üéì " + T("parcours");
  document.getElementById("y1Link").textContent = "üß¨ " + T("y1");
  document.getElementById("y2Link").textContent = "‚ù§Ô∏è " + T("y2");
  document.getElementById("y3Link").textContent = "ü©∫ " + T("y3");

  document.getElementById("navCourses").textContent = "üìö " + T("courses");
  document.getElementById("navAnat").textContent = "üß† " + T("anat3d");
  document.getElementById("navExams").textContent = "üìù " + T("exams");
  document.getElementById("navNotes").textContent = "üóíÔ∏è " + T("notes");
  document.getElementById("navStats").textContent = "üìä " + T("stats");
  document.getElementById("navPomo").textContent = "‚è±Ô∏è " + T("pomo");
  document.getElementById("navProfile").textContent = "üë§ " + T("profile");

  document.getElementById("badgeText").textContent = T("badge");
  document.getElementById("desc").textContent = T("desc");

  renderLessons();
}
document.getElementById("langBtn").onclick = ()=> setLang(lang==="fr" ? "en" : "fr");

const tr = {
  fr:{
    brandTag:"Medical Learning",
    parcours:"Parcours M√©dical",
    y1:"1√®re Ann√©e",
    y2:"2√®me Ann√©e",
    y3:"3√®me Ann√©e",
    courses:"Cours",
    anat3d:"Anatomie 3D",
    exams:"Examens",
    notes:"Notes",
    stats:"Statistiques",
    pomo:"Pomodoro",
    profile:"Profil",
    badge:"‚ú® Anatomie ‚Ä¢ 1√®re Ann√©e",
    desc:"Acc√©dez √† tous les cours et vid√©os YouTube d‚ÄôAnatomie (1√®re ann√©e) organis√©s par chapitres.",
    hint:"Cours + YouTube"
  },
  en:{
    brandTag:"Medical Learning",
    parcours:"Medical Track",
    y1:"Year 1",
    y2:"Year 2",
    y3:"Year 3",
    courses:"Courses",
    anat3d:"3D Anatomy",
    exams:"Exams",
    notes:"Notes",
    stats:"Statistics",
    pomo:"Pomodoro",
    profile:"Profile",
    badge:"‚ú® Anatomy ‚Ä¢ Year 1",
    desc:"Access all Year-1 Anatomy lessons and YouTube videos organized by chapters.",
    hint:"Lessons + YouTube"
  }
};

const lessons = [
  {fr:"Introduction √† l'Anatomie Humaine", en:"Introduction to Human Anatomy", href:"01-introduction-anatomie-humaine.html"},
  {fr:"Syst√®me Squelettique", en:"Skeletal System", href:"02-systeme-squelettique.html"},
  {fr:"Syst√®me Articulaire", en:"Articular System", href:"03-systeme-articulaire.html"},
  {fr:"Syst√®me Musculaire", en:"Muscular System", href:"04-systeme-musculaire.html"},
  {fr:"Syst√®me Nerveux", en:"Nervous System", href:"05-systeme-nerveux.html"},
  {fr:"Syst√®me Circulatoire", en:"Circulatory System", href:"06-systeme-circulatoire.html"},
  {fr:"Veines des Membres", en:"Limb Veins", href:"07-veines-des-membres.html"},
  {fr:"Lymphatiques des Membres", en:"Limb Lymphatics", href:"08-lymphatiques-des-membres.html"},
  {fr:"Plexus", en:"Plexuses", href:"09-plexus.html"},
  {fr:"Nerfs du membre Thoracique", en:"Nerves of the Upper Limb", href:"10-nerfs-membre-thoracique.html"},
  {fr:"Nerfs du membre Pelvien", en:"Nerves of the Lower Limb", href:"11-nerfs-membre-pelvien.html"},
  {fr:"Art√®res du membre Thoracique", en:"Arteries of the Upper Limb", href:"12-arteres-membre-thoracique.html"},
  {fr:"Art√®res du membre Pelvien", en:"Arteries of the Lower Limb", href:"13-arteres-membre-pelvien.html"},
  {fr:"Syst√®me Squelettique du Membre Thoracique", en:"Upper Limb Skeletal System", href:"14-systeme-squelettique-membre-thoracique.html"},
  {fr:"Syst√®me Squelettique du Membre Pelvien", en:"Lower Limb Skeletal System", href:"15-systeme-squelettique-membre-pelvien.html"},
  {fr:"Syst√®me Musculaire du membre Thoracique", en:"Upper Limb Muscular System", href:"16-systeme-musculaire-membre-thoracique.html"},
  {fr:"Syst√®me Musculaire du membre Pelvien", en:"Lower Limb Muscular System", href:"17-systeme-musculaire-membre-pelvien.html"},
  {fr:"Articulation de l'√âpaule", en:"Shoulder Joint", href:"18-articulation-epaule.html"},
  {fr:"Articulation du Coude", en:"Elbow Joint", href:"19-articulation-coude.html"},
  {fr:"Articulation du Poignet", en:"Wrist Joint", href:"20-articulation-poignet.html"},
  {fr:"Articulation de la Hanche", en:"Hip Joint", href:"21-articulation-hanche.html"},
  {fr:"Articulation du Genou", en:"Knee Joint", href:"22-articulation-genou.html"},
  {fr:"Articulation de la Cheville", en:"Ankle Joint", href:"23-articulation-cheville.html"}
];

function pad(n){ return String(n).padStart(2,"0"); }

function renderLessons(){
  const grid = document.getElementById("grid");
  grid.innerHTML = "";
  const hint = (lang==="fr" ? tr.fr.hint : tr.en.hint);

  lessons.forEach((L, idx)=>{
    const a = document.createElement("a");
    a.className = "card";
    a.href = L.href;

    a.innerHTML = `
      <div class="num">${pad(idx+1)}</div>
      <div class="icon"><img src="Anatomie.svg" alt=""></div>
      <div style="min-width:0">
        <h3>${lang==="fr" ? L.fr : L.en}</h3>
        <p>${hint}</p>
      </div>
    `;
    grid.appendChild(a);
  });
}

function typeLoop(){
  const el = document.getElementById("typeTitle");
  const textFR = "üß¨ Premi√®re Ann√©e M√©decine";
  const textEN = "üß¨ First Year Medicine";
  let i = 0;
  let del = false;

  const tick = ()=>{
    const full = (lang==="fr") ? textFR : textEN;

    if(!del){
      i++;
      el.textContent = full.slice(0,i);
      if(i >= full.length){
        del = true;
        setTimeout(tick, 900);
        return;
      }
    }else{
      i--;
      el.textContent = full.slice(0,i);
      if(i <= 0){
        del = false;
        setTimeout(tick, 450);
        return;
      }
    }
    setTimeout(tick, del ? 55 : 85);
  };
  tick();
}

onAuthStateChanged(auth, async (user)=>{
  if(!user) return location.href="login.html";

  document.getElementById("miniEmail").textContent = user.email || "";
  document.getElementById("miniUser").textContent = "@username";

  try{
    const snap = await getDoc(doc(db,"users",user.uid));
    if(snap.exists()){
      const d = snap.data();
      document.getElementById("miniUser").textContent = "@"+(d.username || "username");
      document.getElementById("miniAvatar").textContent = d.gender==="female" ? "üë©‚Äç‚öïÔ∏è" : "üë®‚Äç‚öïÔ∏è";
    }
  }catch(e){}
});

setLang(lang);
typeLoop();

window.addEventListener("resize", ()=>{
  if(window.innerWidth > 900) closeMenu();
});
</script>

</body>
</html>
