<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BeDoctor | PremiÃ¨re AnnÃ©e</title>
<link rel="icon" type="image/svg+xml" href="logo.svg">

<style>
:root{
  --bg:#0b0f1a;
  --card:#141a2a;
  --soft:#1a2140;
  --text:#f5f7ff;
  --muted:#b8c0e0;
  --accent:#00e676;
  --radius:18px;
  --border:rgba(255,255,255,.12);
  --shadow:0 20px 60px rgba(0,0,0,.45);
}
[data-theme="light"]{
  --bg:#f6f7fb;
  --card:#ffffff;
  --soft:#eef1ff;
  --text:#0f172a;
  --muted:#475569;
  --border:rgba(15,23,42,.12);
}
*{box-sizing:border-box}
body{
  margin:0;
  min-height:100vh;
  font-family:system-ui;
  background:var(--bg);
  color:var(--text);
  display:flex;
}
.stars{
  position:fixed;
  inset:0;
  z-index:-3;
  background:
    radial-gradient(circle, rgba(0,230,118,.45) 1px, transparent 2px),
    radial-gradient(circle, rgba(155,92,255,.35) 1px, transparent 2px);
  background-size:160px 160px;
  opacity:.35;
}
.watermark{
  position:fixed;
  inset:0;
  display:grid;
  place-items:center;
  z-index:-2;
  pointer-events:none;
}
.watermark img{
  width:min(70vw,700px);
  opacity:.08;
}
.menu{
  width:260px;
  padding:20px;
  background:var(--card);
  border-right:1px solid var(--border);
  display:flex;
  flex-direction:column;
  gap:6px;
}
.menuTop{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:10px;
}
.menuTop img{width:42px}
.menu a, .menu button{
  display:flex;
  gap:10px;
  align-items:center;
  padding:12px 14px;
  border-radius:14px;
  background:none;
  border:none;
  color:inherit;
  font-weight:800;
  text-decoration:none;
  cursor:pointer;
}
.menu a:hover, .menu button:hover{background:var(--soft)}
.dropdown-content{
  display:none;
  flex-direction:column;
  margin-left:10px;
}
.dropdown.open .dropdown-content{display:flex}
.controls{
  margin-top:auto;
  display:flex;
  gap:10px;
}
.ctrl{
  flex:1;
  padding:10px;
  border-radius:14px;
  background:var(--soft);
  text-align:center;
  cursor:pointer;
  font-weight:900;
}
.menuUser{
  margin-top:10px;
  padding:12px;
  border-radius:14px;
  background:var(--soft);
  display:flex;
  gap:10px;
  align-items:center;
}
.av{
  width:42px;
  height:42px;
  border-radius:12px;
  display:grid;
  place-items:center;
  font-size:22px;
  background:linear-gradient(135deg,#00e676,#7c4dff);
}
.container{
  flex:1;
  padding:40px 20px 80px;
}
.header{
  max-width:1100px;
  margin:auto;
}
.header h1{
  font-size:42px;
  color:var(--accent);
  min-height:52px;
}
.header p{
  max-width:720px;
  color:var(--muted);
  line-height:1.7;
}
.grid{
  max-width:1100px;
  margin:50px auto 0;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:26px;
}
.card{
  background:linear-gradient(135deg,var(--soft),var(--card));
  border-radius:var(--radius);
  padding:22px;
  border:1px solid var(--border);
  box-shadow:var(--shadow);
  text-decoration:none;
  color:inherit;
  transition:.25s;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.card:hover{transform:translateY(-6px)}
.icon{
  width:64px;
  height:64px;
  border-radius:18px;
  background:rgba(255,255,255,.08);
  display:grid;
  place-items:center;
  border:1px solid var(--border);
}
.icon img{width:42px;height:42px}
.card h3{margin:0;font-size:20px;font-weight:900}
.card p{margin:0;color:var(--muted);line-height:1.6}
@media(max-width:900px){
  .menu{display:none}
  .header h1{font-size:32px}
}
</style>
</head>

<body>

<div class="stars"></div>
<div class="watermark"><img src="logo.svg"></div>

<div class="menu">
  <div class="menuTop">
    <img src="logo.svg">
    <strong>BeDoctor</strong>
  </div>

  <div class="dropdown" id="parcours">
    <button id="btnParcours">ğŸ“ Parcours MÃ©dical</button>
    <div class="dropdown-content">
      <a href="level1.html">ğŸ§¬ 1Ã¨re AnnÃ©e</a>
      <a href="level2.html">â¤ï¸ 2Ã¨me AnnÃ©e</a>
      <a href="level3.html">ğŸ©º 3Ã¨me AnnÃ©e</a>
    </div>
  </div>

  <a id="navCourses" href="courses.html">ğŸ“š Cours</a>
  <a href="anatomie3d.html">ğŸ§  Anatomie 3D</a>
  <a href="examens.html">ğŸ“ Examens</a>
  <a href="notes.html">ğŸ—’ï¸ Notes</a>
  <a href="stats.html">ğŸ“Š Statistiques</a>
  <a href="pomodoro.html">â±ï¸ Pomodoro</a>
  <a href="profil.html">ğŸ‘¤ Profil</a>

  <div class="controls">
    <div class="ctrl" id="langBtn">ğŸŒ FR</div>
    <div class="ctrl" id="themeBtn">ğŸŒ™</div>
  </div>

  <div class="menuUser">
    <div class="av" id="miniAvatar">ğŸ‘¨â€âš•ï¸</div>
    <div>
      <div id="miniUser">@username</div>
      <small id="miniEmail"></small>
    </div>
  </div>
</div>

<div class="container">
  <div class="header">
    <h1 id="typeTitle"></h1>
    <p id="desc"></p>
  </div>

  <div class="grid" id="grid"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
import { getAuth,onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
import { getFirestore,doc,getDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

const app = initializeApp({
  apiKey:"AIzaSyBFt5fRSInCvNsrVQfHVTGmsCWajD8jvPI",
  authDomain:"bedoctor-81569.firebaseapp.com",
  projectId:"bedoctor-81569"
});
const auth = getAuth(app);
const db = getFirestore(app);

onAuthStateChanged(auth, async u=>{
  if(!u) return location.href="login.html";
  miniEmail.textContent=u.email;
  const s=await getDoc(doc(db,"users",u.uid));
  if(s.exists()){
    miniUser.textContent="@"+s.data().username;
    miniAvatar.textContent=s.data().gender==="female"?"ğŸ‘©â€âš•ï¸":"ğŸ‘¨â€âš•ï¸";
  }
});

btnParcours.onclick=()=>parcours.classList.toggle("open");

themeBtn.onclick=()=>{
  document.documentElement.dataset.theme =
    document.documentElement.dataset.theme==="dark"?"light":"dark";
};

let lang="fr";
const data={
  fr:{
    title:"ğŸ§¬ PremiÃ¨re AnnÃ©e MÃ©decine",
    desc:"La premiÃ¨re annÃ©e de mÃ©decine constitue la base fondamentale de la formation mÃ©dicale.",
    modules:[
      ["Anatomie","Ã‰tude dÃ©taillÃ©e de la morphologie du corps humain.","anatomie.svg","anatomie.html"],
      ["Biochimie","Analyse des rÃ©actions chimiques du vivant.","Biochimie.svg","biochimie.html"],
      ["Biophysique","Principes physiques appliquÃ©s Ã  la biologie.","Biophysique.svg","biophysique.html"],
      ["Biostatistique","Analyse statistique des donnÃ©es mÃ©dicales.","Biostatistique.svg","biostatistique.html"],
      ["Chimie","Ã‰tude des Ã©lÃ©ments chimiques et interactions.","Chimie.svg","chimie.html"],
      ["Cytologie","Structure et fonctions cellulaires.","Cytologie.svg","cytologie.html"],
      ["Embryologie","DÃ©veloppement embryonnaire humain.","Embryologie.svg","embryologie.html"],
      ["Histologie","Analyse microscopique des tissus.","Histologie.svg","histologie.html"],
      ["Physiologie","Fonctionnement des organes.","Physiologie.svg","physiologie.html"],
      ["SSH","Approche humaine et sociale de la mÃ©decine.","SSH â€“ Sciences Sociales et Humaines.svg","ssh.html"]
    ]
  },
  en:{
    title:"ğŸ§¬ First Year of Medicine",
    desc:"The first year of medicine forms the fundamental basis of medical education.",
    modules:[
      ["Anatomy","Study of human body structure.","anatomie.svg","anatomie.html"],
      ["Biochemistry","Chemical reactions of living systems.","Biochimie.svg","biochimie.html"],
      ["Biophysics","Physics applied to biology.","Biophysique.svg","biophysique.html"],
      ["Biostatistics","Statistical analysis in medicine.","Biostatistique.svg","biostatistique.html"],
      ["Chemistry","Chemical elements and interactions.","Chimie.svg","chimie.html"],
      ["Cytology","Cell structure and functions.","Cytologie.svg","cytologie.html"],
      ["Embryology","Human embryonic development.","Embryologie.svg","embryologie.html"],
      ["Histology","Microscopic tissue analysis.","Histologie.svg","histologie.html"],
      ["Physiology","Organ and system functions.","Physiologie.svg","physiologie.html"],
      ["SSH","Human and social sciences in medicine.","SSH â€“ Sciences Sociales et Humaines.svg","ssh.html"]
    ]
  }
};

function render(){
  desc.textContent=data[lang].desc;
  grid.innerHTML="";
  data[lang].modules.forEach(m=>{
    grid.innerHTML+=`
    <a href="${m[3]}" class="card">
      <div class="icon"><img src="${m[2]}"></div>
      <h3>${m[0]}</h3>
      <p>${m[1]}</p>
    </a>`;
  });
}
langBtn.onclick=()=>{
  lang=lang==="fr"?"en":"fr";
  langBtn.textContent=lang==="fr"?"ğŸŒ FR":"ğŸŒ EN";
  render();
};

const titleText=data.fr.title;
let i=0,del=false;
setInterval(()=>{
  if(!del){
    typeTitle.textContent=titleText.slice(0,++i);
    if(i===titleText.length) del=true;
  }else{
    typeTitle.textContent=titleText.slice(0,--i);
    if(i===0) del=false;
  }
},160);

render();
</script>

</body>
</html>

